gwtu() {
  if [[ -z $1 ]]; then
    echo "Usage: $0 [branch name]"
    return 1
  fi

  local toplevel
  toplevel=$(git rev-parse --show-toplevel) || return 1

  local branch="$1"
  local base=$(basename "$toplevel")
  local target="../${base}--${branch}"

  git worktree add "$target" "$branch" && cd "$target"
}